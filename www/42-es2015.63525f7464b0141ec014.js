(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"qfG+":function(t,e,n){"use strict";n.r(e),n.d(e,"InvestFundPageModule",function(){return P});var i=n("ofXK"),o=n("3Pt+"),s=n("TEn/"),a=n("tyNb"),r=n("mrSG"),c=n("yTpj"),l=n("PPBQ"),p=n("fXoL"),g=n("yZrb"),b=n("VYYF"),d=n("SmVF"),h=n("Sy1n");const m=function(t){return{ios_header_backbtn:t}},u=function(t){return{ios_header_css_back:t}};function _(t,e){if(1&t){const t=p.Pb();p.Ob(0,"ion-slide"),p.Ob(1,"ion-grid",38),p.Ob(2,"img",39),p.Wb("click",function(){return p.lc(t),p.Zb().back()}),p.Nb(),p.Ob(3,"ion-buttons",40),p.Wb("click",function(){return p.lc(t),p.Zb().home()}),p.Kb(4,"ion-icon",41),p.Nb(),p.Nb(),p.Nb()}if(2&t){const t=e.$implicit,n=p.Zb();p.zb(1),p.pc("background-image","url("+t+")"),p.zb(1),p.fc("ngClass",p.ic(4,m,1==n.ios_header)),p.zb(1),p.fc("ngClass",p.ic(6,u,1==n.ios_header))}}function f(t,e){if(1&t){const t=p.Pb();p.Ob(0,"ion-input",42),p.Wb("ngModelChange",function(e){return p.lc(t),p.Zb().share_amount=e}),p.Nb()}if(2&t){const t=p.Zb();p.fc("ngModel",t.share_amount)}}function v(t,e){if(1&t){const t=p.Pb();p.Ob(0,"ion-input",42),p.Wb("ngModelChange",function(e){return p.lc(t),p.Zb().investment_amount=e}),p.Nb()}if(2&t){const t=p.Zb();p.fc("ngModel",t.investment_amount)}}function x(t,e){1&t&&p.Kb(0,"ion-spinner")}function y(t,e){1&t&&(p.Ob(0,"span",43),p.rc(1," Continue "),p.Kb(2,"ion-ripple-effect"),p.Nb())}const w=function(t){return{"non-active":t}},O=[{path:"",component:(()=>{class t{constructor(t,e,n,i,o,s,a,r,c){this.router=t,this.modalController=e,this.service=n,this.statusbar=i,this.toast=o,this.zone=s,this.appcomponent=a,this.alertController=r,this.toastController=c,this.property_images=[],this.opts={initialSlide:0,slidesPerView:1,autoplay:!0},this.active_status=this.service.getActiveStatus(),this.address=this.service.getInvestdata()[0].address,this.title=this.service.getInvestdata()[0].title,this.purchase_price=this.service.getInvestdata()[0].purchase_price,this.remaining_share=this.service.getInvestdata()[0].remaining_share,this.property_images=this.service.getPropertyDetail().property_images,null!=this.service.getInvestdata()[0].invoice_id&&(this.property_images=this.service.getInvestdata()[0].img),this.balance=this.service.getBalance(),this.payment_type="fiat";let l=window.localStorage.getItem("phone-model");this.ios_header="10"==l,this.statusbar.hide()}ionViewDidEnter(){this.user_id=window.localStorage.getItem("user_id"),this.service.balance(this.user_id).subscribe(t=>{console.log(t),this.balance=t.balance,this.service.setBalance(t.balance)})}ngOnInit(){if(this.invest_type=this.service.get_invest_form(),"home"==this.invest_type){let t=parseFloat(window.localStorage.getItem("total_price_per_share"));this.investment_amount=parseInt(window.localStorage.getItem("ivestment_amount")),this.share_amount=10*Math.round(this.investment_amount/t/10),this.minimum_share=this.share_amount;let e=window.localStorage.getItem("invoice_id"),n=window.localStorage.getItem("prop_id");null==e&&(e=this.service.getInvestdata()[0].invoice_id),this.service.user_invest9(this.user_id,n,e).subscribe(t=>{console.log(t)}),this.check_from="home"}else{this.share_amount=parseFloat(window.localStorage.getItem("ivestment_amount_flip")),this.investment_amount=parseFloat(window.localStorage.getItem("total_price_per_share_flip"));let t=window.localStorage.getItem("invoice_id"),e=window.localStorage.getItem("prop_id");null==t&&(t=this.service.getInvestdata()[0].invoice_id),this.service.user_invest9(this.user_id,e,t).subscribe(t=>{console.log(t)}),this.check_from="flip"}}change(){let t=parseFloat(window.localStorage.getItem("total_price_per_share"));this.investment_amount=(this.share_amount*t).toFixed(2)}next(){window.localStorage.setItem("ivestment_amount",this.investment_amount);let t=window.localStorage.getItem("prop_id");if(this.user_id=window.localStorage.getItem("user_id"),0==this.balance)this.showmessage("You cannot invest in property because you have 0 balance in your wallet");else if(this.share_amount<this.minimum_share)this.showmessage("Share cannot be less than to minimum share amount that is "+this.minimum_share);else{if(null!=this.service.getInvestdata()[0].invoice_id)this.service.update_invest(this.user_id,this.service.getInvestdata()[0].property_id,this.service.getInvestdata()[0].invoice_id,"9").subscribe(t=>{console.log(t)});else{let e=window.localStorage.getItem("invoice_id");this.service.user_invest9(this.user_id,t,e).subscribe(t=>{console.log(t)})}window.localStorage.setItem("payment_method",this.payment_type),"fiat"==this.payment_type&&"0"==this.balance?(alert("Please deposit fund to your account"),this.payment_type="deposit"):1==this.active_status?"deposit"==this.payment_type?(this.service.back_invest_fund("invest_fund"),this.router.navigate(["deposit-funds"])):parseFloat(this.balance)<parseFloat(this.investment_amount)?this.showmessage("Your fiat balance is less than share price"):this.router.navigate(["confirmation"]):(this.service.setBackPage("invest-fund"),this.router.navigate(["account-activate"]))}}top_up(){return Object(r.a)(this,void 0,void 0,function*(){this.appcomponent.leftSlide("deposit-funds")})}top_down(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.modalController.create({component:c.a,cssClass:"center",enterAnimation:l.b,leaveAnimation:l.c,componentProps:{balance:this.balance}});return t.onDidDismiss().then(t=>{console.log(t)}),yield t.present()})}cancel_inves(){return Object(r.a)(this,void 0,void 0,function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Vairt",message:"Do you want to cancel this investment?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:t=>{console.log("Confirm Cancel: blah")}},{text:"Yes",handler:()=>{this.cancel_invest()}}]});yield t.present()})}cancel_invest(){let t=window.localStorage.getItem("prop_id");null!=this.service.getInvestdata()[0].invoice_id?this.service.cancel_invoice_invest(this.service.getInvestdata()[0].invoice_id,this.user_id).subscribe(t=>{console.log(t),this.appcomponent.leftSlide("new-investments")}):this.service.cancel_invest(t,this.user_id).subscribe(t=>{console.log(t),this.appcomponent.downSlidePre("home")})}change_payment(){console.log(this.payment_type)}back(){let t=this.service.getBackPage();console.log(t),this.appcomponent.downSlidePre("new-investments"==t?t:"invest-agree-sign")}showmessage(t){return Object(r.a)(this,void 0,void 0,function*(){(yield this.toastController.create({message:t,color:"danger",cssClass:"toast-alert",duration:3e3})).present()})}home(){this.appcomponent.downSlidePre("home")}}return t.\u0275fac=function(e){return new(e||t)(p.Jb(a.g),p.Jb(s.X),p.Jb(g.a),p.Jb(b.a),p.Jb(d.a),p.Jb(p.B),p.Jb(h.a),p.Jb(s.a),p.Jb(s.gb))},t.\u0275cmp=p.Db({type:t,selectors:[["app-invest-fund"]],decls:67,vars:19,consts:[[1,"ion-no-border"],["pager","true",1,"ion-no-padding","slides",3,"pager","options"],[4,"ngFor","ngForOf"],[1,"ion-padding"],[1,"address"],[1,"type"],[1,"ion-no-padding",2,"margin-top","-10px"],["size","6"],[1,"sub_title"],[1,"price_btn",2,"margin-top","-10px"],[1,"sub_title",2,"text-align","right"],[1,"price_btn","right"],[1,"hori_divider"],[1,"heading"],[1,"background1","ion-no-padding"],["size","auto",2,"height","70px","display","flex"],["src","assets/images/share_amount.svg","width","20",1,"input_img"],["size","9",2,"height","70px"],[1,"input_lbl"],["type","number","readonly","","class","input",3,"ngModel","ngModelChange",4,"ngIf"],["src","assets/images/amount.svg","width","20",1,"input_img"],[1,"lbl"],[3,"ngModel","ngModelChange","ionChange"],["lines","none"],[1,"background",2,"margin-left","0px",3,"ngClass"],["value","deposit","mode","md"],[1,"payment_txt"],[1,"background",3,"ngClass"],["value","fiat","mode","md"],[1,"fiat_txt"],[1,"payment_txt",2,"margin-top","0px"],[1,"payment_txt",2,"margin-top","-10px"],[1,"form_btn","ion-activatable","ripple-parent",3,"click"],[4,"ngIf"],["class","submit-txt",4,"ngIf"],[1,"row",3,"click"],["src","assets/images/cancel.png","width","20",2,"margin-top","2px"],[1,"trans_btn",2,"color","#b8babb","width","auto","margin-top","0px"],[1,"background-img"],["src","assets/images/left-arrow-white.svg",1,"back_arrow",2,"width","30px",3,"ngClass","click"],[1,"home_btn",3,"ngClass","click"],["name","home",1,"home_icon"],["type","number","readonly","",1,"input",3,"ngModel","ngModelChange"],[1,"submit-txt"]],template:function(t,e){1&t&&(p.Ob(0,"ion-header",0),p.Ob(1,"ion-slides",1),p.qc(2,_,5,8,"ion-slide",2),p.Nb(),p.Nb(),p.Ob(3,"ion-content",3),p.Ob(4,"p",4),p.rc(5),p.Nb(),p.Ob(6,"p",5),p.rc(7),p.Nb(),p.Ob(8,"ion-row",6),p.Ob(9,"ion-col",7),p.Ob(10,"p",8),p.rc(11,"Purchase Price"),p.Nb(),p.Ob(12,"button",9),p.rc(13),p.Nb(),p.Nb(),p.Ob(14,"ion-col",7),p.Ob(15,"p",10),p.rc(16,"Remaining Share"),p.Nb(),p.Ob(17,"button",11),p.rc(18),p.Nb(),p.Nb(),p.Nb(),p.Kb(19,"div",12),p.Ob(20,"h4",13),p.rc(21,"Fund Your Investment"),p.Nb(),p.Ob(22,"p",5),p.rc(23," As the final step in process, provide your Payment type. All information and transaction are encrypted. "),p.Nb(),p.Ob(24,"ion-row",14),p.Ob(25,"ion-col",15),p.Kb(26,"img",16),p.Nb(),p.Ob(27,"ion-col",17),p.Ob(28,"p",18),p.rc(29,"Share To Buy"),p.Nb(),p.qc(30,f,1,1,"ion-input",19),p.Nb(),p.Nb(),p.Ob(31,"ion-row",14),p.Ob(32,"ion-col",15),p.Kb(33,"img",20),p.Nb(),p.Ob(34,"ion-col",17),p.Ob(35,"p",18),p.rc(36,"Price"),p.Nb(),p.qc(37,v,1,1,"ion-input",19),p.Nb(),p.Nb(),p.Kb(38,"br"),p.Kb(39,"div",12),p.Ob(40,"p",21),p.rc(41,"Payment Type"),p.Nb(),p.Ob(42,"ion-radio-group",22),p.Wb("ngModelChange",function(t){return e.payment_type=t})("ionChange",function(){return e.change_payment()}),p.Ob(43,"ion-item",23),p.Ob(44,"div",24),p.Kb(45,"ion-radio",25),p.Ob(46,"p",26),p.rc(47,"Deposit Fund"),p.Nb(),p.Nb(),p.Ob(48,"div",27),p.Kb(49,"ion-radio",28),p.Ob(50,"p",29),p.rc(51,"Fiat Money"),p.Nb(),p.Ob(52,"p",30),p.rc(53,"Total Balance"),p.Nb(),p.Ob(54,"p",31),p.rc(55),p.Nb(),p.Nb(),p.Nb(),p.Nb(),p.Kb(56,"br"),p.Kb(57,"br"),p.Ob(58,"button",32),p.Wb("click",function(){return e.next()}),p.qc(59,x,1,0,"ion-spinner",33),p.qc(60,y,3,0,"span",34),p.Nb(),p.Kb(61,"br"),p.Ob(62,"div",35),p.Wb("click",function(){return e.cancel_inves()}),p.Kb(63,"img",36),p.Ob(64,"button",37),p.rc(65," Cancel Investment "),p.Nb(),p.Nb(),p.Kb(66,"br"),p.Nb()),2&t&&(p.zb(1),p.fc("pager",!0)("options",e.opts),p.zb(1),p.fc("ngForOf",e.property_images),p.zb(3),p.tc("#",e.title,""),p.zb(2),p.sc(e.address),p.zb(6),p.tc(" $",e.purchase_price," "),p.zb(5),p.tc("$",e.remaining_share,""),p.zb(12),p.fc("ngIf","flip"==e.check_from),p.zb(7),p.fc("ngIf","flip"==e.check_from),p.zb(5),p.fc("ngModel",e.payment_type),p.zb(2),p.fc("ngClass",p.ic(15,w,"fiat"==e.payment_type)),p.zb(4),p.fc("ngClass",p.ic(17,w,"deposit"==e.payment_type)),p.zb(7),p.tc("",e.balance," USD"),p.zb(4),p.fc("ngIf",e.loading),p.zb(1),p.fc("ngIf",!e.loading))},directives:[s.r,s.L,i.j,s.o,s.E,s.n,i.k,s.B,s.eb,o.j,o.m,s.w,i.i,s.A,s.cb,s.K,s.q,s.i,s.s,s.v,s.ab,s.M,s.C],styles:["ion-content[_ngcontent-%COMP%]{font-family:poppins regular}.background-img[_ngcontent-%COMP%]{height:250px;background-size:cover;background-position:50%;border-bottom-left-radius:15px;border-bottom-right-radius:15px}ion-slides.images[_ngcontent-%COMP%]{background:transparent;padding-top:0;padding-bottom:0;top:-48px}.set-height[_ngcontent-%COMP%]{width:93%;margin-left:0}.address[_ngcontent-%COMP%]{white-space:break-spaces;font-family:poppins semibold}.type[_ngcontent-%COMP%]{color:#b8babb;margin-top:-5px;font-size:13px}.sub_title[_ngcontent-%COMP%]{color:#333;font-size:13px;height:10px}.price_btn[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;text-align:center;width:auto;padding:8px 10px;border-radius:5px}.right[_ngcontent-%COMP%]{float:right;margin-right:20px;margin-top:-2px}.hori_divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#dcdcdc;margin-top:10px}.heading[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-left:10px;font-size:15px}ion-select[_ngcontent-%COMP%]{--padding-start:10px;border:1px solid silver;width:94%;margin-left:3%}.lbl[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:poppins regular}.lbl[_ngcontent-%COMP%]{margin-left:10px;margin-top:30px;font-size:13px}.trans_btn[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;text-align:center;width:100%;color:var(--ion-color-primary);margin-top:15px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.info[_ngcontent-%COMP%]{color:#858587;font-family:poppins regular;text-align:justify;width:90%;margin-left:5%;margin-top:5px;font-size:12px}.prim_lbl[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:12px;margin-top:30px;text-align:right;margin-right:10px}.adjust[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-top:10px}ion-checkbox[_ngcontent-%COMP%], ion-radio[_ngcontent-%COMP%]{width:17px;height:17px}ion-checkbox[_ngcontent-%COMP%]{--border-color:#dcdcdc;--border-width:1px}.txt[_ngcontent-%COMP%]{margin-top:-2px}.background[_ngcontent-%COMP%]{background:var(--ion-color-primary);width:50%;margin-left:10px;height:110px;border-radius:5px}ion-radio[_ngcontent-%COMP%]{--color-checked:#fff;--color:#fff;float:right;margin-right:10px}.payment_txt[_ngcontent-%COMP%]{margin-top:45px}.fiat_txt[_ngcontent-%COMP%], .payment_txt[_ngcontent-%COMP%]{color:#fff;font-family:poppins regular;font-size:13px;text-align:center}.fiat_txt[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px}.non-active[_ngcontent-%COMP%]{background:#b7dcee;width:50%;margin-left:10px;height:110px;border-radius:5px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.input_lbl[_ngcontent-%COMP%]{margin-top:5px;color:#333;font-size:14px;font-family:poppins regular;margin-left:10px}ion-row.background1[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:10px;width:90%;margin-left:5%;margin-top:12px;height:65px}.lbl[_ngcontent-%COMP%]{font-family:poppins semibold;color:#9a9a9a}ion-input[_ngcontent-%COMP%]{font-family:poppins regular;font-size:15px;font-weight:500;letter-spacing:0;margin-left:2px;color:#333;font-size:14px;margin-top:-20px}ion-buttons.ios_header_css_back[_ngcontent-%COMP%]{margin-top:40px}"]}),t})()}];let C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({imports:[[a.i.forChild(O)],a.i]}),t})(),P=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=p.Hb({type:t}),t.\u0275inj=p.Gb({imports:[[i.b,o.g,s.U,C]]}),t})()}}]);
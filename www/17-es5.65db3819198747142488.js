!function(){function c(c,o){return function(c){if(Array.isArray(c))return c}(c)||function(c,e){var o=c&&("undefined"!=typeof Symbol&&c[Symbol.iterator]||c["@@iterator"]);if(null==o)return;var l,n,d=[],i=!0,a=!1;try{for(o=o.call(c);!(i=(l=o.next()).done)&&(d.push(l.value),!e||d.length!==e);i=!0);}catch(t){a=!0,n=t}finally{try{i||null==o.return||o.return()}finally{if(a)throw n}}return d}(c,o)||function(c,o){if(!c)return;if("string"==typeof c)return e(c,o);var l=Object.prototype.toString.call(c).slice(8,-1);"Object"===l&&c.constructor&&(l=c.constructor.name);if("Map"===l||"Set"===l)return Array.from(c);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return e(c,o)}(c,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function e(c,e){(null==e||e>c.length)&&(e=c.length);for(var o=0,l=new Array(e);o<e;o++)l[o]=c[o];return l}function o(c,e){if(!(c instanceof e))throw new TypeError("Cannot call a class as a function")}function l(c,e){for(var o=0;o<e.length;o++){var l=e[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(c,l.key,l)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{fnke:function(e,n,d){"use strict";d.r(n),d.d(n,"AllowLocationPageModule",function(){return v});var i=d("ofXK"),a=d("3Pt+"),t=d("TEn/"),g=d("tyNb"),r=d("fXoL"),s=d("WOgW"),u=d("92l+"),f=d("Bfh1"),p=d("Sy1n"),h=d("h+qT");function m(c,e){1&c&&r.Kb(0,"ion-spinner")}function b(c,e){1&c&&(r.Ob(0,"span",9),r.rc(1," Turn On Location "),r.Kb(2,"ion-ripple-effect"),r.Nb())}var S,y,A,C=function(c){return{ios_header_css_:c}},M=[{path:"",component:(S=function(){function e(c,l,n,d,i,a,t){o(this,e),this.router=c,this.androidPermissions=l,this.locationAccuracy=n,this.geolocation=d,this.platform=i,this.appcomponent=a,this.nativeGeocoder=t,this.countries=[{code:"AF",callingcode:"93"},{code:"AL",callingcode:"355"},{code:"DZ",callingcode:"213"},{code:"AS",callingcode:"1684"},{code:"AD",callingcode:"376"},{code:"AO",callingcode:"244"},{code:"AI",callingcode:"1264"},{code:"AQ",callingcode:"672"},{code:"AG",callingcode:"1268"},{code:"AR",callingcode:"54"},{code:"AM",callingcode:"374"},{code:"AW",callingcode:"297"},{code:"AU",callingcode:"61"},{code:"AT",callingcode:"43"},{code:"AZ",callingcode:"994"},{code:"BS",callingcode:"1242"},{code:"BH",callingcode:"973"},{code:"BD",callingcode:"880"},{code:"BB",callingcode:"1246"},{code:"BY",callingcode:"375"},{code:"BE",callingcode:"32"},{code:"BZ",callingcode:"501"},{code:"BJ",callingcode:"229"},{code:"BM",callingcode:"1441"},{code:"BT",callingcode:"975"},{code:"BO",callingcode:"591"},{code:"BQ",callingcode:"5997"},{code:"BA",callingcode:"387"},{code:"BW",callingcode:"267"},{code:"BR",callingcode:"55"},{code:"IO",callingcode:"246"},{code:"VG",callingcode:"1284"},{code:"VI",callingcode:"1 340"},{code:"BN",callingcode:"673"},{code:"BG",callingcode:"359"},{code:"BF",callingcode:"226"},{code:"BI",callingcode:"257"},{code:"KH",callingcode:"855"},{code:"CM",callingcode:"237"},{code:"CA",callingcode:"1"},{code:"CV",callingcode:"238"},{code:"KY",callingcode:"1345"},{code:"CF",callingcode:"236"},{code:"TD",callingcode:"235"},{code:"CL",callingcode:"56"},{code:"CN",callingcode:"86"},{code:"CX",callingcode:"61"},{code:"CC",callingcode:"61"},{code:"CO",callingcode:"57"},{code:"KM",callingcode:"269"},{code:"CG",callingcode:"242"},{code:"CD",callingcode:"243"},{code:"CK",callingcode:"682"},{code:"CR",callingcode:"506"},{code:"HR",callingcode:"385"},{code:"CU",callingcode:"53"},{code:"CW",callingcode:"599"},{code:"CY",callingcode:"357"},{code:"CZ",callingcode:"420"},{code:"DK",callingcode:"45"},{code:"DJ",callingcode:"253"},{code:"DM",callingcode:"1767"},{code:"DO",callingcode:"1809"},{code:"EC",callingcode:"593"},{code:"EG",callingcode:"20"},{code:"SV",callingcode:"503"},{code:"GQ",callingcode:"240"},{code:"ER",callingcode:"291"},{code:"EE",callingcode:"372"},{code:"ET",callingcode:"251"},{code:"FK",callingcode:"500"},{code:"FO",callingcode:"298"},{code:"FJ",callingcode:"679"},{code:"FI",callingcode:"358"},{code:"FR",callingcode:"33"},{code:"GF",callingcode:"594"},{code:"PF",callingcode:"689"},{code:"GA",callingcode:"241"},{code:"GM",callingcode:"220"},{code:"GE",callingcode:"995"},{code:"DE",callingcode:"49"},{code:"GH",callingcode:"233"},{code:"GI",callingcode:"350"},{code:"GR",callingcode:"30"},{code:"GL",callingcode:"299"},{code:"GD",callingcode:"1473"},{code:"GP",callingcode:"590"},{code:"GU",callingcode:"1671"},{code:"GT",callingcode:"502"},{code:"GG",callingcode:"44"},{code:"GN",callingcode:"224"},{code:"GW",callingcode:"245"},{code:"GY",callingcode:"592"},{code:"HT",callingcode:"509"},{code:"VA",callingcode:"379"},{code:"HN",callingcode:"504"},{code:"HK",callingcode:"852"},{code:"HU",callingcode:"36"},{code:"IS",callingcode:"354"},{code:"IN",callingcode:"91"},{code:"ID",callingcode:"62"},{code:"IR",callingcode:"98"},{code:"IQ",callingcode:"964"},{code:"IE",callingcode:"353"},{code:"IM",callingcode:"44"},{code:"IL",callingcode:"972"},{code:"IT",callingcode:"39"},{code:"JM",callingcode:"1876"},{code:"JP",callingcode:"81"},{code:"JE",callingcode:"44"},{code:"JO",callingcode:"962"},{code:"KZ",callingcode:"76"},{code:"KE",callingcode:"254"},{code:"KI",callingcode:"686"},{code:"KW",callingcode:"965"},{code:"KG",callingcode:"996"},{code:"LV",callingcode:"371"},{code:"LB",callingcode:"961"},{code:"LS",callingcode:"266"},{code:"LR",callingcode:"231"},{code:"LY",callingcode:"218"},{code:"LI",callingcode:"423"},{code:"LT",callingcode:"370"},{code:"LU",callingcode:"352"},{code:"MO",callingcode:"853"},{code:"MK",callingcode:"389"},{code:"MG",callingcode:"261"},{code:"MW",callingcode:"265"},{code:"MY",callingcode:"60"},{code:"MV",callingcode:"960"},{code:"ML",callingcode:"223"},{code:"MT",callingcode:"356"},{code:"MH",callingcode:"692"},{code:"MQ",callingcode:"596"},{code:"MR",callingcode:"222"},{code:"MU",callingcode:"230"},{code:"YT",callingcode:"262"},{code:"MX",callingcode:"52"},{code:"FM",callingcode:"691"},{code:"MD",callingcode:"373"},{code:"MC",callingcode:"377"},{code:"MN",callingcode:"976"},{code:"ME",callingcode:"382"},{code:"MS",callingcode:"1664"},{code:"MA",callingcode:"212"},{code:"MZ",callingcode:"258"},{code:"MM",callingcode:"95"},{code:"NA",callingcode:"264"},{code:"NR",callingcode:"674"},{code:"NP",callingcode:"977"},{code:"NL",callingcode:"31"},{code:"NC",callingcode:"687"},{code:"NZ",callingcode:"64"},{code:"NI",callingcode:"505"},{code:"NE",callingcode:"227"},{code:"NG",callingcode:"234"},{code:"NU",callingcode:"683"},{code:"NF",callingcode:"672"},{code:"MP",callingcode:"1670"},{code:"NO",callingcode:"47"},{code:"OM",callingcode:"968"},{code:"PK",callingcode:"92"},{code:"PW",callingcode:"680"},{code:"PS",callingcode:"970"},{code:"PA",callingcode:"507"},{code:"PG",callingcode:"675"},{code:"PY",callingcode:"595"},{code:"PE",callingcode:"51"},{code:"PH",callingcode:"63"},{code:"PN",callingcode:"64"},{code:"PL",callingcode:"48"},{code:"PT",callingcode:"351"},{code:"PR",callingcode:"1787"},{code:"QA",callingcode:"974"},{code:"XK",callingcode:"383"},{code:"RE",callingcode:"262"},{code:"RO",callingcode:"40"},{code:"RU",callingcode:"7"},{code:"RW",callingcode:"250"},{code:"BL",callingcode:"590"},{code:"SH",callingcode:"290"},{code:"KN",callingcode:"1869"},{code:"LC",callingcode:"1758"},{code:"MF",callingcode:"590"},{code:"PM",callingcode:"508"},{code:"VC",callingcode:"1784"},{code:"WS",callingcode:"685"},{code:"SM",callingcode:"378"},{code:"ST",callingcode:"239"},{code:"SA",callingcode:"966"},{code:"SN",callingcode:"221"},{code:"RS",callingcode:"381"},{code:"SC",callingcode:"248"},{code:"SL",callingcode:"232"},{code:"SG",callingcode:"65"},{code:"SX",callingcode:"1721"},{code:"SK",callingcode:"421"},{code:"SI",callingcode:"386"},{code:"SB",callingcode:"677"},{code:"SO",callingcode:"252"},{code:"ZA",callingcode:"27"},{code:"GS",callingcode:"500"},{code:"KR",callingcode:"82"},{code:"SS",callingcode:"211"},{code:"ES",callingcode:"34"},{code:"LK",callingcode:"94"},{code:"SD",callingcode:"249"},{code:"SR",callingcode:"597"},{code:"SJ",callingcode:"4779"},{code:"SZ",callingcode:"268"},{code:"SE",callingcode:"46"},{code:"CH",callingcode:"41"},{code:"SY",callingcode:"963"},{code:"TW",callingcode:"886"},{code:"TJ",callingcode:"992"},{code:"TZ",callingcode:"255"},{code:"TH",callingcode:"66"},{code:"TL",callingcode:"670"},{code:"TG",callingcode:"228"},{code:"TK",callingcode:"690"},{code:"TO",callingcode:"676"},{code:"TT",callingcode:"1868"},{code:"TN",callingcode:"216"},{code:"TR",callingcode:"90"},{code:"TM",callingcode:"993"},{code:"TC",callingcode:"1649"},{code:"TV",callingcode:"688"},{code:"UG",callingcode:"256"},{code:"UA",callingcode:"380"},{code:"AE",callingcode:"971"},{code:"GB",callingcode:"44"},{code:"US",callingcode:"1"},{code:"UY",callingcode:"598"},{code:"UZ",callingcode:"998"},{code:"VU",callingcode:"678"},{code:"VE",callingcode:"58"},{code:"VN",callingcode:"84"},{code:"WF",callingcode:"681"},{code:"EH",callingcode:"212"},{code:"YE",callingcode:"967"},{code:"ZM",callingcode:"260"},{code:"ZW",callingcode:"263"}];var g=window.localStorage.getItem("phone-model");this.ios_header="10"==g}var n,d,i;return n=e,(d=[{key:"ngOnInit",value:function(){}},{key:"next",value:function(){this.loading=!0,this.enable_location()}},{key:"enable_location",value:function(){this.platform.is("ios")?this.loadMap():this.checkGPSPermission()}},{key:"checkGPSPermission",value:function(){var c=this;this.androidPermissions.checkPermission(this.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(function(e){e.hasPermission?c.askToTurnOnGPS():c.requestGPSPermission()},function(c){console.log(c)})}},{key:"requestGPSPermission",value:function(){var c=this;this.locationAccuracy.canRequest().then(function(e){e?console.log("4"):c.androidPermissions.requestPermission(c.androidPermissions.PERMISSION.ACCESS_COARSE_LOCATION).then(function(){c.askToTurnOnGPS()},function(c){})})}},{key:"askToTurnOnGPS",value:function(){var c=this;this.locationAccuracy.request(this.locationAccuracy.REQUEST_PRIORITY_HIGH_ACCURACY).then(function(){c.loadMap()})}},{key:"loadMap",value:function(){var c=this;return new Promise(function(e,o){c.geolocation.getCurrentPosition({timeout:1e4,enableHighAccuracy:!0,maximumAge:3600}).then(function(o){e(!0),c.getAddressFromCoords(o.coords.latitude,o.coords.longitude),c.loading=!1,c.router.navigate(["allow-notification"])}).catch(function(c){console.log(c)})})}},{key:"getAddressFromCoords",value:function(e,o){var l=this;this.nativeGeocoder.reverseGeocode(e,o,{useLocale:!0,maxResults:5}).then(function(e){console.log(e[0]);var o=l.countries.filter(function(c){return c.code===e[0].countryCode});o.length>0&&(l.phone_code="+"+o[0].callingcode,window.localStorage.setItem("code",o[0].code),window.localStorage.setItem("calling_code",l.phone_code),l.country_name=e[0].countryName,window.localStorage.setItem("state",e[0].administrativeArea),window.localStorage.setItem("city",e[0].subAdministrativeArea),window.localStorage.setItem("postal_code",e[0].postalCode),window.localStorage.setItem("country_ name",l.country_name)),l.address="";for(var n=[],d=0,i=Object.entries(e[0]);d<i.length;d++){var a=c(i[d],2),t=(a[0],a[1]);t.length>0&&n.push(t)}n.reverse();for(var g=0,r=n;g<r.length;g++){var s=r[g];l.address+=s+", "}l.address=l.address.slice(0,-2),window.localStorage.setItem("address",l.address)}).catch(function(c){l.address="Address Not Available!"})}},{key:"move",value:function(){this.appcomponent.leftSlide("allow-notification")}}])&&l(n.prototype,d),i&&l(n,i),e}(),S.\u0275fac=function(c){return new(c||S)(r.Jb(g.g),r.Jb(s.a),r.Jb(u.a),r.Jb(f.a),r.Jb(t.bb),r.Jb(p.a),r.Jb(h.a))},S.\u0275cmp=r.Db({type:S,selectors:[["app-allow-location"]],decls:13,vars:5,consts:[[1,"ion-padding"],[1,"skip_btn",3,"ngClass","click"],[1,"row_center"],["autoplay","","loop","","src","assets/location.json",2,"width","300px","height","300px"],[1,"Location"],[1,"sub_heading"],[1,"form_btn","ion-activatable","ripple-parent",3,"click"],[4,"ngIf"],["class","submit-txt",4,"ngIf"],[1,"submit-txt"]],template:function(c,e){1&c&&(r.Ob(0,"ion-content",0),r.Ob(1,"ion-buttons",1),r.Wb("click",function(){return e.move()}),r.Ob(2,"p"),r.rc(3,"Skip"),r.Nb(),r.Nb(),r.Ob(4,"div",2),r.Kb(5,"lottie-player",3),r.Ob(6,"h4",4),r.rc(7,"Allow Location"),r.Nb(),r.Ob(8,"p",5),r.rc(9,"Vairt uses your device\u2019s location services. For best experience, Please turn them on"),r.Nb(),r.Nb(),r.Ob(10,"button",6),r.Wb("click",function(){return e.next()}),r.qc(11,m,1,0,"ion-spinner",7),r.qc(12,b,3,0,"span",8),r.Nb(),r.Nb()),2&c&&(r.zb(1),r.fc("ngClass",r.ic(3,C,1==e.ios_header)),r.zb(10),r.fc("ngIf",e.loading),r.zb(1),r.fc("ngIf",!e.loading))},directives:[t.o,t.i,i.i,i.k,t.M,t.C],styles:["ion-content[_ngcontent-%COMP%]{--background:#f7f7f7}.row_center[_ngcontent-%COMP%]{width:100%;height:70%;display:flex;flex-direction:column;align-items:center;justify-content:center}.Location[_ngcontent-%COMP%]{font-family:poppins semibold;color:#333;font-size:22px}.sub_heading[_ngcontent-%COMP%]{font-family:poppins regular;color:#333;font-size:13px;text-align:center;margin-top:0;width:90%}.form_btn[_ngcontent-%COMP%]{position:fixed;bottom:0;margin-bottom:35px;height:45px;width:80%;left:50%;transform:translateX(-50%)}.skip_btn[_ngcontent-%COMP%]{font-family:poppins semibold;float:right;color:var(--ion-color-primary);width:50px;height:50px;margin-top:0}.ios_header_css_[_ngcontent-%COMP%]{margin-top:15px}"]}),S)}],P=((A=function c(){o(this,c)}).\u0275fac=function(c){return new(c||A)},A.\u0275mod=r.Hb({type:A}),A.\u0275inj=r.Gb({imports:[[g.i.forChild(M)],g.i]}),A),v=((y=function c(){o(this,c)}).\u0275fac=function(c){return new(c||y)},y.\u0275mod=r.Hb({type:y}),y.\u0275inj=r.Gb({imports:[[i.b,a.g,t.U,P]]}),y)}}])}();
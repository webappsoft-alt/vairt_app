!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"qfG+":function(n,i,o){"use strict";o.r(i),o.d(i,"InvestFundPageModule",function(){return z});var r=o("ofXK"),a=o("3Pt+"),s=o("TEn/"),c=o("tyNb"),l=o("mrSG"),p=o("yTpj"),g=o("PPBQ"),b=o("fXoL"),u=o("yZrb"),d=o("VYYF"),h=o("SmVF"),m=o("Sy1n"),f=function(t){return{ios_header_backbtn:t}},_=function(t){return{ios_header_css_back:t}};function v(t,e){if(1&t){var n=b.Pb();b.Ob(0,"ion-slide"),b.Ob(1,"ion-grid",38),b.Ob(2,"img",39),b.Wb("click",function(){return b.lc(n),b.Zb().back()}),b.Nb(),b.Ob(3,"ion-buttons",40),b.Wb("click",function(){return b.lc(n),b.Zb().home()}),b.Kb(4,"ion-icon",41),b.Nb(),b.Nb(),b.Nb()}if(2&t){var i=e.$implicit,o=b.Zb();b.zb(1),b.pc("background-image","url("+i+")"),b.zb(1),b.fc("ngClass",b.ic(4,f,1==o.ios_header)),b.zb(1),b.fc("ngClass",b.ic(6,_,1==o.ios_header))}}function x(t,e){if(1&t){var n=b.Pb();b.Ob(0,"ion-input",42),b.Wb("ngModelChange",function(t){return b.lc(n),b.Zb().share_amount=t}),b.Nb()}if(2&t){var i=b.Zb();b.fc("ngModel",i.share_amount)}}function y(t,e){if(1&t){var n=b.Pb();b.Ob(0,"ion-input",42),b.Wb("ngModelChange",function(t){return b.lc(n),b.Zb().investment_amount=t}),b.Nb()}if(2&t){var i=b.Zb();b.fc("ngModel",i.investment_amount)}}function w(t,e){1&t&&b.Kb(0,"ion-spinner")}function O(t,e){1&t&&(b.Ob(0,"span",43),b.rc(1," Continue "),b.Kb(2,"ion-ripple-effect"),b.Nb())}var C,k,P,M=function(t){return{"non-active":t}},I=[{path:"",component:(C=function(){function n(e,i,o,r,a,s,c,l,p){t(this,n),this.router=e,this.modalController=i,this.service=o,this.statusbar=r,this.toast=a,this.zone=s,this.appcomponent=c,this.alertController=l,this.toastController=p,this.property_images=[],this.opts={initialSlide:0,slidesPerView:1,autoplay:!0},this.active_status=this.service.getActiveStatus(),this.address=this.service.getInvestdata()[0].address,this.title=this.service.getInvestdata()[0].title,this.purchase_price=this.service.getInvestdata()[0].purchase_price,this.remaining_share=this.service.getInvestdata()[0].remaining_share,this.property_images=this.service.getPropertyDetail().property_images,null!=this.service.getInvestdata()[0].invoice_id&&(this.property_images=this.service.getInvestdata()[0].img),this.balance=this.service.getBalance(),this.payment_type="fiat";var g=window.localStorage.getItem("phone-model");this.ios_header="10"==g,this.statusbar.hide()}var i,o,r;return i=n,(o=[{key:"ionViewDidEnter",value:function(){var t=this;this.user_id=window.localStorage.getItem("user_id"),this.service.balance(this.user_id).subscribe(function(e){console.log(e),t.balance=e.balance,t.service.setBalance(e.balance)})}},{key:"ngOnInit",value:function(){if(this.invest_type=this.service.get_invest_form(),"home"==this.invest_type){var t=parseFloat(window.localStorage.getItem("total_price_per_share"));this.investment_amount=parseInt(window.localStorage.getItem("ivestment_amount")),this.share_amount=10*Math.round(this.investment_amount/t/10),this.minimum_share=this.share_amount;var e=window.localStorage.getItem("invoice_id"),n=window.localStorage.getItem("prop_id");null==e&&(e=this.service.getInvestdata()[0].invoice_id),this.service.user_invest9(this.user_id,n,e).subscribe(function(t){console.log(t)}),this.check_from="home"}else{this.share_amount=parseFloat(window.localStorage.getItem("ivestment_amount_flip")),this.investment_amount=parseFloat(window.localStorage.getItem("total_price_per_share_flip"));var i=window.localStorage.getItem("invoice_id"),o=window.localStorage.getItem("prop_id");null==i&&(i=this.service.getInvestdata()[0].invoice_id),this.service.user_invest9(this.user_id,o,i).subscribe(function(t){console.log(t)}),this.check_from="flip"}}},{key:"change",value:function(){var t=parseFloat(window.localStorage.getItem("total_price_per_share"));this.investment_amount=(this.share_amount*t).toFixed(2)}},{key:"next",value:function(){window.localStorage.setItem("ivestment_amount",this.investment_amount);var t=window.localStorage.getItem("prop_id");if(this.user_id=window.localStorage.getItem("user_id"),0==this.balance)this.showmessage("You cannot invest in property because you have 0 balance in your wallet");else if(this.share_amount<this.minimum_share)this.showmessage("Share cannot be less than to minimum share amount that is "+this.minimum_share);else{if(null!=this.service.getInvestdata()[0].invoice_id)this.service.update_invest(this.user_id,this.service.getInvestdata()[0].property_id,this.service.getInvestdata()[0].invoice_id,"9").subscribe(function(t){console.log(t)});else{var e=window.localStorage.getItem("invoice_id");this.service.user_invest9(this.user_id,t,e).subscribe(function(t){console.log(t)})}window.localStorage.setItem("payment_method",this.payment_type),"fiat"==this.payment_type&&"0"==this.balance?(alert("Please deposit fund to your account"),this.payment_type="deposit"):1==this.active_status?"deposit"==this.payment_type?(this.service.back_invest_fund("invest_fund"),this.router.navigate(["deposit-funds"])):parseFloat(this.balance)<parseFloat(this.investment_amount)?this.showmessage("Your fiat balance is less than share price"):this.router.navigate(["confirmation"]):(this.service.setBackPage("invest-fund"),this.router.navigate(["account-activate"]))}}},{key:"top_up",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:this.appcomponent.leftSlide("deposit-funds");case 1:case"end":return t.stop()}},t,this)}))}},{key:"top_down",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.modalController.create({component:p.a,cssClass:"center",enterAnimation:g.b,leaveAnimation:g.c,componentProps:{balance:this.balance}});case 2:return(e=t.sent).onDidDismiss().then(function(t){console.log(t)}),t.next=6,e.present();case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}},t,this)}))}},{key:"cancel_inves",value:function(){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Vairt",message:"Do you want to cancel this investment?",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(t){console.log("Confirm Cancel: blah")}},{text:"Yes",handler:function(){n.cancel_invest()}}]});case 2:return e=t.sent,t.next=5,e.present();case 5:case"end":return t.stop()}},t,this)}))}},{key:"cancel_invest",value:function(){var t=this,e=window.localStorage.getItem("prop_id");null!=this.service.getInvestdata()[0].invoice_id?this.service.cancel_invoice_invest(this.service.getInvestdata()[0].invoice_id,this.user_id).subscribe(function(e){console.log(e),t.appcomponent.leftSlide("new-investments")}):this.service.cancel_invest(e,this.user_id).subscribe(function(e){console.log(e),t.appcomponent.downSlidePre("home")})}},{key:"change_payment",value:function(){console.log(this.payment_type)}},{key:"back",value:function(){var t=this.service.getBackPage();console.log(t),this.appcomponent.downSlidePre("new-investments"==t?t:"invest-agree-sign")}},{key:"showmessage",value:function(t){return Object(l.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.toastController.create({message:t,color:"danger",cssClass:"toast-alert",duration:3e3});case 2:e.sent.present();case 3:case"end":return e.stop()}},e,this)}))}},{key:"home",value:function(){this.appcomponent.downSlidePre("home")}}])&&e(i.prototype,o),r&&e(i,r),n}(),C.\u0275fac=function(t){return new(t||C)(b.Jb(c.g),b.Jb(s.X),b.Jb(u.a),b.Jb(d.a),b.Jb(h.a),b.Jb(b.B),b.Jb(m.a),b.Jb(s.a),b.Jb(s.gb))},C.\u0275cmp=b.Db({type:C,selectors:[["app-invest-fund"]],decls:67,vars:19,consts:[[1,"ion-no-border"],["pager","true",1,"ion-no-padding","slides",3,"pager","options"],[4,"ngFor","ngForOf"],[1,"ion-padding"],[1,"address"],[1,"type"],[1,"ion-no-padding",2,"margin-top","-10px"],["size","6"],[1,"sub_title"],[1,"price_btn",2,"margin-top","-10px"],[1,"sub_title",2,"text-align","right"],[1,"price_btn","right"],[1,"hori_divider"],[1,"heading"],[1,"background1","ion-no-padding"],["size","auto",2,"height","70px","display","flex"],["src","assets/images/share_amount.svg","width","20",1,"input_img"],["size","9",2,"height","70px"],[1,"input_lbl"],["type","number","readonly","","class","input",3,"ngModel","ngModelChange",4,"ngIf"],["src","assets/images/amount.svg","width","20",1,"input_img"],[1,"lbl"],[3,"ngModel","ngModelChange","ionChange"],["lines","none"],[1,"background",2,"margin-left","0px",3,"ngClass"],["value","deposit","mode","md"],[1,"payment_txt"],[1,"background",3,"ngClass"],["value","fiat","mode","md"],[1,"fiat_txt"],[1,"payment_txt",2,"margin-top","0px"],[1,"payment_txt",2,"margin-top","-10px"],[1,"form_btn","ion-activatable","ripple-parent",3,"click"],[4,"ngIf"],["class","submit-txt",4,"ngIf"],[1,"row",3,"click"],["src","assets/images/cancel.png","width","20",2,"margin-top","2px"],[1,"trans_btn",2,"color","#b8babb","width","auto","margin-top","0px"],[1,"background-img"],["src","assets/images/left-arrow-white.svg",1,"back_arrow",2,"width","30px",3,"ngClass","click"],[1,"home_btn",3,"ngClass","click"],["name","home",1,"home_icon"],["type","number","readonly","",1,"input",3,"ngModel","ngModelChange"],[1,"submit-txt"]],template:function(t,e){1&t&&(b.Ob(0,"ion-header",0),b.Ob(1,"ion-slides",1),b.qc(2,v,5,8,"ion-slide",2),b.Nb(),b.Nb(),b.Ob(3,"ion-content",3),b.Ob(4,"p",4),b.rc(5),b.Nb(),b.Ob(6,"p",5),b.rc(7),b.Nb(),b.Ob(8,"ion-row",6),b.Ob(9,"ion-col",7),b.Ob(10,"p",8),b.rc(11,"Purchase Price"),b.Nb(),b.Ob(12,"button",9),b.rc(13),b.Nb(),b.Nb(),b.Ob(14,"ion-col",7),b.Ob(15,"p",10),b.rc(16,"Remaining Share"),b.Nb(),b.Ob(17,"button",11),b.rc(18),b.Nb(),b.Nb(),b.Nb(),b.Kb(19,"div",12),b.Ob(20,"h4",13),b.rc(21,"Fund Your Investment"),b.Nb(),b.Ob(22,"p",5),b.rc(23," As the final step in process, provide your Payment type. All information and transaction are encrypted. "),b.Nb(),b.Ob(24,"ion-row",14),b.Ob(25,"ion-col",15),b.Kb(26,"img",16),b.Nb(),b.Ob(27,"ion-col",17),b.Ob(28,"p",18),b.rc(29,"Share To Buy"),b.Nb(),b.qc(30,x,1,1,"ion-input",19),b.Nb(),b.Nb(),b.Ob(31,"ion-row",14),b.Ob(32,"ion-col",15),b.Kb(33,"img",20),b.Nb(),b.Ob(34,"ion-col",17),b.Ob(35,"p",18),b.rc(36,"Price"),b.Nb(),b.qc(37,y,1,1,"ion-input",19),b.Nb(),b.Nb(),b.Kb(38,"br"),b.Kb(39,"div",12),b.Ob(40,"p",21),b.rc(41,"Payment Type"),b.Nb(),b.Ob(42,"ion-radio-group",22),b.Wb("ngModelChange",function(t){return e.payment_type=t})("ionChange",function(){return e.change_payment()}),b.Ob(43,"ion-item",23),b.Ob(44,"div",24),b.Kb(45,"ion-radio",25),b.Ob(46,"p",26),b.rc(47,"Deposit Fund"),b.Nb(),b.Nb(),b.Ob(48,"div",27),b.Kb(49,"ion-radio",28),b.Ob(50,"p",29),b.rc(51,"Fiat Money"),b.Nb(),b.Ob(52,"p",30),b.rc(53,"Total Balance"),b.Nb(),b.Ob(54,"p",31),b.rc(55),b.Nb(),b.Nb(),b.Nb(),b.Nb(),b.Kb(56,"br"),b.Kb(57,"br"),b.Ob(58,"button",32),b.Wb("click",function(){return e.next()}),b.qc(59,w,1,0,"ion-spinner",33),b.qc(60,O,3,0,"span",34),b.Nb(),b.Kb(61,"br"),b.Ob(62,"div",35),b.Wb("click",function(){return e.cancel_inves()}),b.Kb(63,"img",36),b.Ob(64,"button",37),b.rc(65," Cancel Investment "),b.Nb(),b.Nb(),b.Kb(66,"br"),b.Nb()),2&t&&(b.zb(1),b.fc("pager",!0)("options",e.opts),b.zb(1),b.fc("ngForOf",e.property_images),b.zb(3),b.tc("#",e.title,""),b.zb(2),b.sc(e.address),b.zb(6),b.tc(" $",e.purchase_price," "),b.zb(5),b.tc("$",e.remaining_share,""),b.zb(12),b.fc("ngIf","flip"==e.check_from),b.zb(7),b.fc("ngIf","flip"==e.check_from),b.zb(5),b.fc("ngModel",e.payment_type),b.zb(2),b.fc("ngClass",b.ic(15,M,"fiat"==e.payment_type)),b.zb(4),b.fc("ngClass",b.ic(17,M,"deposit"==e.payment_type)),b.zb(7),b.tc("",e.balance," USD"),b.zb(4),b.fc("ngIf",e.loading),b.zb(1),b.fc("ngIf",!e.loading))},directives:[s.r,s.L,r.j,s.o,s.E,s.n,r.k,s.B,s.eb,a.j,a.m,s.w,r.i,s.A,s.cb,s.K,s.q,s.i,s.s,s.v,s.ab,s.M,s.C],styles:["ion-content[_ngcontent-%COMP%]{font-family:poppins regular}.background-img[_ngcontent-%COMP%]{height:250px;background-size:cover;background-position:50%;border-bottom-left-radius:15px;border-bottom-right-radius:15px}ion-slides.images[_ngcontent-%COMP%]{background:transparent;padding-top:0;padding-bottom:0;top:-48px}.set-height[_ngcontent-%COMP%]{width:93%;margin-left:0}.address[_ngcontent-%COMP%]{white-space:break-spaces;font-family:poppins semibold}.type[_ngcontent-%COMP%]{color:#b8babb;margin-top:-5px;font-size:13px}.sub_title[_ngcontent-%COMP%]{color:#333;font-size:13px;height:10px}.price_btn[_ngcontent-%COMP%]{background:var(--ion-color-primary);color:#fff;text-align:center;width:auto;padding:8px 10px;border-radius:5px}.right[_ngcontent-%COMP%]{float:right;margin-right:20px;margin-top:-2px}.hori_divider[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#dcdcdc;margin-top:10px}.heading[_ngcontent-%COMP%]{color:var(--ion-color-primary);margin-left:10px;font-size:15px}ion-select[_ngcontent-%COMP%]{--padding-start:10px;border:1px solid silver;width:94%;margin-left:3%}.lbl[_ngcontent-%COMP%], ion-select[_ngcontent-%COMP%]{font-family:poppins regular}.lbl[_ngcontent-%COMP%]{margin-left:10px;margin-top:30px;font-size:13px}.trans_btn[_ngcontent-%COMP%]{background:transparent;border:none;outline:none;text-align:center;width:100%;color:var(--ion-color-primary);margin-top:15px}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto}.info[_ngcontent-%COMP%]{color:#858587;font-family:poppins regular;text-align:justify;width:90%;margin-left:5%;margin-top:5px;font-size:12px}.prim_lbl[_ngcontent-%COMP%]{color:var(--ion-color-primary);font-size:12px;margin-top:30px;text-align:right;margin-right:10px}.adjust[_ngcontent-%COMP%]{width:90%;margin-left:5%;margin-top:10px}ion-checkbox[_ngcontent-%COMP%], ion-radio[_ngcontent-%COMP%]{width:17px;height:17px}ion-checkbox[_ngcontent-%COMP%]{--border-color:#dcdcdc;--border-width:1px}.txt[_ngcontent-%COMP%]{margin-top:-2px}.background[_ngcontent-%COMP%]{background:var(--ion-color-primary);width:50%;margin-left:10px;height:110px;border-radius:5px}ion-radio[_ngcontent-%COMP%]{--color-checked:#fff;--color:#fff;float:right;margin-right:10px}.payment_txt[_ngcontent-%COMP%]{margin-top:45px}.fiat_txt[_ngcontent-%COMP%], .payment_txt[_ngcontent-%COMP%]{color:#fff;font-family:poppins regular;font-size:13px;text-align:center}.fiat_txt[_ngcontent-%COMP%]{margin-top:10px;margin-left:10px}.non-active[_ngcontent-%COMP%]{background:#b7dcee;width:50%;margin-left:10px;height:110px;border-radius:5px}.row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:center}.input_lbl[_ngcontent-%COMP%]{margin-top:5px;color:#333;font-size:14px;font-family:poppins regular;margin-left:10px}ion-row.background1[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:10px;width:90%;margin-left:5%;margin-top:12px;height:65px}.lbl[_ngcontent-%COMP%]{font-family:poppins semibold;color:#9a9a9a}ion-input[_ngcontent-%COMP%]{font-family:poppins regular;font-size:15px;font-weight:500;letter-spacing:0;margin-left:2px;color:#333;font-size:14px;margin-top:-20px}ion-buttons.ios_header_css_back[_ngcontent-%COMP%]{margin-top:40px}"]}),C)}],N=((P=function e(){t(this,e)}).\u0275fac=function(t){return new(t||P)},P.\u0275mod=b.Hb({type:P}),P.\u0275inj=b.Gb({imports:[[c.i.forChild(I)],c.i]}),P),z=((k=function e(){t(this,e)}).\u0275fac=function(t){return new(t||k)},k.\u0275mod=b.Hb({type:k}),k.\u0275inj=b.Gb({imports:[[r.b,a.g,s.U,N]]}),k)}}])}();